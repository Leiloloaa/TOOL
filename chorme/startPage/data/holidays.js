/**
 * 中国大陆法定节假日数据
 * 数据来源：国务院办公厅发布的放假安排
 *
 * holidays: 休息日（法定节假日）
 * workdays: 调休工作日（需要补班的周末）
 */

const HOLIDAYS_DATA = {
  // 2024年节假日安排
  2024: {
    holidays: {
      // 元旦
      "2024-01-01": "元旦",
      // 春节
      "2024-02-10": "春节",
      "2024-02-11": "春节",
      "2024-02-12": "春节",
      "2024-02-13": "春节",
      "2024-02-14": "春节",
      "2024-02-15": "春节",
      "2024-02-16": "春节",
      "2024-02-17": "春节",
      // 清明节
      "2024-04-04": "清明",
      "2024-04-05": "清明",
      "2024-04-06": "清明",
      // 劳动节
      "2024-05-01": "劳动节",
      "2024-05-02": "劳动节",
      "2024-05-03": "劳动节",
      "2024-05-04": "劳动节",
      "2024-05-05": "劳动节",
      // 端午节
      "2024-06-08": "端午",
      "2024-06-09": "端午",
      "2024-06-10": "端午",
      // 中秋节
      "2024-09-15": "中秋",
      "2024-09-16": "中秋",
      "2024-09-17": "中秋",
      // 国庆节
      "2024-10-01": "国庆",
      "2024-10-02": "国庆",
      "2024-10-03": "国庆",
      "2024-10-04": "国庆",
      "2024-10-05": "国庆",
      "2024-10-06": "国庆",
      "2024-10-07": "国庆",
    },
    workdays: {
      // 春节调休
      "2024-02-04": "班",
      "2024-02-18": "班",
      // 劳动节调休
      "2024-04-28": "班",
      "2024-05-11": "班",
      // 中秋/国庆调休
      "2024-09-14": "班",
      "2024-09-29": "班",
    },
  },
  // 2025年节假日安排
  2025: {
    holidays: {
      // 元旦（与周末连休）
      "2025-01-01": "元旦",
      // 春节
      "2025-01-28": "春节",
      "2025-01-29": "春节",
      "2025-01-30": "春节",
      "2025-01-31": "春节",
      "2025-02-01": "春节",
      "2025-02-02": "春节",
      "2025-02-03": "春节",
      "2025-02-04": "春节",
      // 清明节
      "2025-04-04": "清明",
      "2025-04-05": "清明",
      "2025-04-06": "清明",
      // 劳动节
      "2025-05-01": "劳动节",
      "2025-05-02": "劳动节",
      "2025-05-03": "劳动节",
      "2025-05-04": "劳动节",
      "2025-05-05": "劳动节",
      // 端午节
      "2025-05-31": "端午",
      "2025-06-01": "端午",
      "2025-06-02": "端午",
      // 中秋节、国庆节
      "2025-10-01": "国庆",
      "2025-10-02": "国庆",
      "2025-10-03": "国庆",
      "2025-10-04": "国庆",
      "2025-10-05": "国庆",
      "2025-10-06": "中秋",
      "2025-10-07": "国庆",
      "2025-10-08": "国庆",
    },
    workdays: {
      // 春节调休
      "2025-01-26": "班",
      "2025-02-08": "班",
      // 劳动节调休
      "2025-04-27": "班",
      // 国庆调休
      "2025-09-28": "班",
      "2025-10-11": "班",
    },
  },
  // 2026年节假日安排（预估，实际以国务院发布为准）
  2026: {
    holidays: {
      // 元旦
      "2026-01-01": "元旦",
      "2026-01-02": "元旦",
      "2026-01-03": "元旦",
      // 春节
      "2026-02-17": "春节",
      "2026-02-18": "春节",
      "2026-02-19": "春节",
      "2026-02-20": "春节",
      "2026-02-21": "春节",
      "2026-02-22": "春节",
      "2026-02-23": "春节",
      // 清明节
      "2026-04-05": "清明",
      "2026-04-06": "清明",
      "2026-04-07": "清明",
      // 劳动节
      "2026-05-01": "劳动节",
      "2026-05-02": "劳动节",
      "2026-05-03": "劳动节",
      // 端午节
      "2026-06-19": "端午",
      "2026-06-20": "端午",
      "2026-06-21": "端午",
      // 中秋节
      "2026-09-25": "中秋",
      "2026-09-26": "中秋",
      "2026-09-27": "中秋",
      // 国庆节
      "2026-10-01": "国庆",
      "2026-10-02": "国庆",
      "2026-10-03": "国庆",
      "2026-10-04": "国庆",
      "2026-10-05": "国庆",
      "2026-10-06": "国庆",
      "2026-10-07": "国庆",
    },
    workdays: {
      // 元旦调休
      "2026-01-04": "班",
      // 春节调休
      "2026-02-15": "班",
      "2026-02-28": "班",
      // 中秋/国庆调休
      "2026-09-27": "班",
      "2026-10-10": "班",
    },
  },
};

/**
 * 获取指定日期的节假日信息
 * @param {number} year 年份
 * @param {number} month 月份 (1-12)
 * @param {number} day 日期
 * @returns {object|null} { type: 'holiday'|'workday', name: string } 或 null
 */
function getHolidayInfo(year, month, day) {
  const dateStr = `${year}-${String(month).padStart(2, "0")}-${String(
    day
  ).padStart(2, "0")}`;
  const yearData = HOLIDAYS_DATA[year];

  if (!yearData) return null;

  if (yearData.holidays[dateStr]) {
    return { type: "holiday", name: yearData.holidays[dateStr] };
  }

  if (yearData.workdays[dateStr]) {
    return { type: "workday", name: yearData.workdays[dateStr] };
  }

  return null;
}

/**
 * 判断是否为节假日
 */
function isHoliday(year, month, day) {
  const info = getHolidayInfo(year, month, day);
  return info && info.type === "holiday";
}

/**
 * 判断是否为调休工作日
 */
function isWorkday(year, month, day) {
  const info = getHolidayInfo(year, month, day);
  return info && info.type === "workday";
}

